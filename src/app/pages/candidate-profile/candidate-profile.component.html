<div class="candidate-profile-container">
  <h2 class="profile-header"><i class="pi pi-id-card"></i> Candidate Profile</h2>

  <!-- Fit Evaluation Section -->
  <p-card header="Fit Evaluation" class="profile-card" [styleClass]="fitEvaluation === 'Best Fit' ? 'best-fit' : 'not-good-fit'">
    <h3 *ngIf="fitEvaluation === 'Best Fit'" class="best-fit-text">
      <i class="pi pi-check-circle"></i> Best Fit
    </h3>
    <h3 *ngIf="fitEvaluation === 'Not a Good Fit'" class="not-good-fit-text">
      <i class="pi pi-times-circle"></i> Not a Good Fit
    </h3>
  </p-card>

  <!-- Personal Information Section -->
  <p-card header="Personal Information" class="profile-card">
    <div class="personal-info">
      <p><i class="pi pi-user"></i> <strong>Name:</strong> {{ candidate.full_name }}</p>
      <p><i class="pi pi-envelope"></i> <strong>Email:</strong> {{ candidate.email }}</p>
      <p><i class="pi pi-phone"></i> <strong>Mobile:</strong> {{ candidate.mobile_number }}</p>
      <p><i class="pi pi-calendar"></i> <strong>Year of Passing:</strong> {{ candidate.year_of_passing }}</p>
      <p><i class="pi pi-home"></i> <strong>College:</strong> {{ candidate.college_name }}</p>
    </div>
  </p-card>

  <!-- Resume Review Section -->
  <p-card header="Resume Review" class="profile-card">
      @if(resumeReviewChartData){
    <p-chart type="radar" [data]="resumeReviewChartData" [options]="chartOptions"></p-chart>
    <div class="summary">
      <h4><i class="pi pi-file"></i> Summary</h4>
      <p>{{ candidate.submission[0]?.resume_review?.resume_review_overall_summary || 'No summary available' }}</p>
    </div>
  }
    @else {
      <p>AI Review is not done yet</p>
    }
  </p-card>

  <!-- Code Review Section -->
  <p-card header="Code Review" class="profile-card">
    @if(codeReviewChartData){
      <p-chart type="bar" [data]="codeReviewChartData" [options]="chartOptions"></p-chart>
      <div class="summary">
        <h4><i class="pi pi-file"></i> Summary</h4>
        <p>{{ candidate.submission[0]?.code_review?.summary || 'No summary available' }}</p>
      </div>

    }
    @else {
      <p>AI Review is not done yet</p>
    }
  </p-card>

  <!-- Code Coverage Section -->
  <p-card header="Code Coverage" class="profile-card">
    @if(codeCoverageChartData){
      <p-chart type="doughnut" [data]="codeCoverageChartData" [options]="chartOptions"></p-chart>
      <div class="summary">
        <h4><i class="pi pi-file"></i> Code Coverage Description</h4>
        <p>{{ candidate.submission[0]?.code_coverage_description || 'No description available' }}</p>
      </div>
    }
    @else {
      <p>AI Review is not done yet</p>
    }
  </p-card>
